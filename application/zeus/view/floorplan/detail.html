<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <div class="container">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        户型管理
        <if condition="$step eq 'add'">
          <small>增加户型</small>
        <elseif condition="$step eq 'edit'"/>
          <small>更新户型</small>
        <else/>
          <small>增加户型</small>
        </if>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>首页</a></li>

        <if condition="$step eq 'add'">
          <li class="active">增加户型</li>
          <elseif condition="$step eq 'edit'" />
          <li class="active">更新户型</li>
          <else/>
          <li class="active">增加户型</li>
        </if>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="content-body">

        <!-- SELECT2 EXAMPLE -->
        <div class="box box-default">
          <div class="box-header with-border">
            <h3 class="box-title">户型信息</h3>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>请选择社区</label>
                  <select id="choise-role" class="form-control select2">
                    <option title='1'>玲珑湾</option>
                    <option title='2'>玲珑东区</option>
                    <option title='3'>三湘</option>
                  </select>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>名称</label>
                  <input type="text" class="form-control" placeholder="请输入户型名称 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </div>
          <!-- /.box-body -->
          <div class="box-header with-border">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <h3 class="box-title">程序列表</h3>
                  <button type="submit" class="btn-up btn btn-default pull-right hide">收起<i class="fa fa-level-up"></i></button>
                  <button type="submit" class="btn-down btn btn-success pull-right">放下<i class="fa fa-level-down"></i></button>
                </div>
              </div>
            </div>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                    <div class="table-responsive">
                      <table class="table table-bordered table-hover" id="user-tab">
                        <thead>
                          <tr>
                            <th>版本号</th>
                            <th>平台</th>
                            <th>CCU程序编号</th>
                            <th>APP配置编号</th>
                            <th>CCU配置编号</th>
                            <th>WCU程序编号</th>
                            <th>VCU程序编号</th>
                            <th>版本类型</th>
                            <th>删除</th>
                          </tr>
                        </thead>
                        <tbody>

                        </tbody>
                      </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
          </div>
          <!-- /.box-body -->

          <div class="box-header with-border">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <h3 class="box-title">上传程序</h3>
                  <button type="submit" class="btn-up btn btn-default pull-right hide">收起<i class="fa fa-level-up"></i></button>
                  <button type="submit" class="btn-down btn btn-success pull-right">放下<i class="fa fa-level-down"></i></button>
                </div>
              </div>
            </div>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                    <div class="table-responsive">
                      <table class="table table-striped table-hover" id="floorplan-upload-tab">
                        <tbody>
                          <tr>
                            <td>
                              CCU程序
                            </td>
                            <td>
                              <div class="from-group">
                                <label>程序来源</label>
                                <select id="upload-role" class="form-control select2">
                                  <option title='1'>已上传</option>
                                  <option title='2'>新上传</option>
                                </select>
                              </div>
                              <div class="from-group">
                                <label>从已上传中选择</label>
                                <select id="upload-role" class="form-control select2">
                                  <option title='1'>1234567</option>
                                  <option title='2'>2345678</option>
                                </select>
                              </div>
                              <div class="from-group">
                                <label>新上传</label>
                                <p>
                                  <button class="btn btn-file">选择文件</button>
                                  <input type="file" name='ccu-program' id="ccu-program" class="input-file hide"/>
                                  <label></label>
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              APP配置
                            </td>
                            <td>
                              <div class="from-group">
                                <p>
                                  <button class="btn btn-file">选择文件</button>
                                  <input type="file" name='app-config' id="app-config" class="input-file hide"/>
                                  <label></label>
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              CCU配置
                            </td>
                            <td>
                              <div class="from-group">
                                <p>
                                  <button class="btn btn-file">选择文件</button>
                                  <input type="file" name='ccu-config' id="ccu-config" class="input-file hide"/>
                                  <label></label>
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              WCU程序
                            </td>
                            <td>
                              <div class="from-group">
                                <p>
                                  <button class="btn btn-file">选择文件</button>
                                  <input type="file" name='wcu-program' id="wcu-program" class="input-file hide"/>
                                  <label></label>
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              VCU程序
                            </td>
                            <td>
                              <div class="from-group">
                                <p>
                                  <button class="btn btn-file">选择文件</button>
                                  <input type="file" name='vcu-program' id="vcu-program" class="input-file hide"/>
                                  <label></label>
                                </p>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
          </div>
          <!-- /.box-body -->

          <div class="box-body">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <div class="box-footer">
                    <button type="submit" class="btn btn-default">取消</button>
                    <button type="submit" class="btn btn-info pull-right" id="submit">添加</button>
                  </div>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
    </section>
    <!-- /.content -->
  </div>
  <!-- /.container -->
  <script>
    function update_filename_label(file, label){
      if (file) {
        label.text(file.name);
      } else {
        label.text("");
      }
    }

    $(function() {
      $(".select2").select2();

      $(".btn-up").click(function(){
        console.log('up');
        $(this).addClass('hide');
        $(this).next().removeClass('hide');
      });

      $(".btn-down").click(function(){
        console.log('down');
        $(this).addClass('hide');
        $(this).prev().removeClass('hide');
      });

      $(".btn-file").click(function(){
        $(this).next().click();
      });

      $("#ccu-program").change(function(){
        console.log(this);
        update_filename_label(this.files[0], $(this).next());
      });

      $("#app-config").change(function(){
        update_filename_label(this.files[0], $(this).next());
      });

      $("#submit").click(function(){
        var ccu_program = document.getElementById('ccu-program').files[0];
        var ccu_config = document.getElementById('ccu-config').files[0];
        var app_config = document.getElementById('app-config').files[0];
        var wcu_program = document.getElementById('wcu-program').files[0];
        var vcu_program = document.getElementById('vcu-program').files[0];
        ccu_program ? console.log(ccu_program.name) : console.log('ccu program have not update...');
        ccu_config ? console.log(ccu_config.name) : console.log('ccu config have not update...');
        app_config ? console.log(app_config.name) : console.log('app config have not update...');
        wcu_program ? console.log(wcu_program.name) : console.log('wcu program have not update...');
        vcu_program ? console.log(vcu_program.name) : console.log('vcu program have not update...');
      });
    });

  </script>

</div>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <div class="container">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        用户管理
        <if condition="$step eq 'add'">
          <small>增加用户</small>
        <elseif condition="$step eq 'edit'"/>
          <small>编辑用户信息</small>
        <else/>
          <small>增加用户</small>
        </if>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>首页</a></li>

        <if condition="$step eq 'add'">
          <li class="active">增加用户</li>
          <elseif condition="$step eq 'edit'" />
          <li class="active">编辑用户信息</li>
          <else/>
          <li class="active">增加用户</li>
        </if>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="content-body">
        <!-- SELECT2 EXAMPLE -->
        <div class="box box-default">
          <div class="box-header with-border">
            <h3 class="box-title">填写用户信息</h3>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>请选择权限角色</label>
                  <select id="choise-role" class="form-control select2">
                    <option title='1'>管理员</option>
                    <option title='2'>技术支持</option>
                    <option selected="selected" title='3'>普通用户</option>
                    <option title='4'>开发商管理员</option>
                    <option title='5'>物业公司管理员</option>
                    <option title='6'>[三湘]维修师</option>
                    <option title='7'>[三湘]高级维修师</option>
                    <option title='8'>[三湘]管理员</option>
                  </select>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>手机号</label>
                  <input type="text" class="form-control" placeholder="请输入手机号 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>用户名</label>
                  <div class="box-tools pull-right">
                    <span class="btn label label-success" style="float: right;">从手机号复制</span>
                  </div>
                  <input type="text" class="form-control" placeholder="请输入用户名 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>密码</label>
                  <input type="password" class="form-control" placeholder="请输入密码 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>密码确认</label>
                  <input type="password" class="form-control" placeholder="请再次确认密码 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>昵称</label>
                  <input type="text" class="form-control" placeholder="请输入昵称 ...">
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>头像</label>
                  <div class="box-body no-padding">
                    <ul class="users-list clearfix">
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user1-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user8-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user7-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user6-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user2-160x160.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user5-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user4-128x128.jpg" alt="User Image">
                      </li>
                      <li>
                        <img src="{:config('PUBLIC_DIR')}/img/user3-128x128.jpg" alt="User Image">
                      </li>
                    </ul>
                    <!-- /.users-list -->
                  </div>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row" id="choise-community-wrap">
              <div class="col-md-6">
                <div class="form-group">
                  <label>请选择管辖社区</label>
                  <div class="box-body no-padding">
                    <select class="form-control select2" multiple="multiple" data-placeholder="请选择社区" id="select-community">
                      <option>翡翠公园</option>
                      <option>九十区</option>
                      <option>金域平江</option>
                      <option>玲珑东区</option>
                      <option>南京中航华府国际</option>
                    </select>
                  </div>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row" id="choise-developer-wrap">
              <div class="col-md-6">
                <div class="form-group">
                  <label>请选择管辖开发商</label>
                  <div class="box-body no-padding">
                    <select class="form-control select2" multiple="multiple" data-placeholder="请选择社区" id="select-developer">
                      <option>苏南万科</option>
                      <option>南京诚久</option>
                      <option>上海万科</option>
                      <option>上海鹏欣</option>
                      <option>上海三湘</option>
                    </select>
                  </div>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <div class="box-footer">
                    <button type="submit" class="btn btn-default">取消</button>
                    <button type="submit" class="btn btn-info pull-right">添加</button>
                  </div>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
    </section>
    <!-- /.content -->
  </div>
  <!-- /.container -->
  <script>
    $(function() {
      $("#choise-role").select2();
      $("#select-community").select2();
      $("#select-developer").select2();

      $("#choise-role").on('select2:select', function(selection) {
        console.log(selection.params.data.text);
        if (selection.params.data.title == '4') {
          $('#choise-developer-wrap').fadeOut();
          $("#choise-community-wrap").fadeIn();
        } else if (selection.params.data.title == '5') {
          $("#choise-community-wrap").fadeOut();
          $('#choise-developer-wrap').fadeIn();
        } else {
          $("#choise-community-wrap").fadeOut();
          $('#choise-developer-wrap').fadeOut();
        }
      });
    });

    // TODO get data
    // var communities = $("#select-community").select2("data");
    // var developers = $("#select-developer").select2("data");
    // console.log(communities);
    // console.log(developers);

  </script>

</div>
